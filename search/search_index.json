{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Hawk Docs!","text":"<p>This document provides an explanation of the Hawk Project.</p>"},{"location":"#diagram","title":"Diagram","text":""},{"location":"#api","title":"API","text":""},{"location":"#agent","title":"Agent","text":""},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml       # The configuration file.\ndocs/\n    index.md     # The documentation homepage.\n    diagram.md   #Flowchart\n    api.md       #API documentation\n    assets       # Images and other files.\n</code></pre>"},{"location":"Agent/","title":"Agent","text":""},{"location":"Agent/#main","title":"Main","text":""},{"location":"Agent/#setup","title":"Setup","text":""},{"location":"api/","title":"API","text":""},{"location":"api/#apis","title":"API's","text":""},{"location":"api/#authroute","title":"AuthRoute","text":""},{"location":"api/#1-create-new-user","title":"1. Create new user","text":"<pre><code>POST  /v1/auth/register\n</code></pre> <p>This API allows new users to register by providing essential details such as their name, email address, and password. Upon successful registration, a new user account is created.</p>"},{"location":"api/#2-login","title":"2. Login","text":"<pre><code>POST /v1/auth/login\n</code></pre> <p>This API authenticates a user by verifying their credentials (email and password). Upon successful login, the system generates and returns an access token, and optionally a refresh token, for ongoing access.</p>"},{"location":"api/#3-logout","title":"3. Logout","text":"<pre><code>POST /v1/auth/logout\n</code></pre> <p>This API logs out an authenticated user by invalidating their current session and associated tokens. After logging out, the user must log in again to regain access to the system.</p>"},{"location":"api/#4-refresh-token","title":"4. Refresh Token","text":"<pre><code>POST /v1/auth/refresh-tokens\n</code></pre> <p>This API generates a new access token when the current one expires. A valid refresh token is required to access this API, enabling users to maintain their sessions without the need for repeated logins.</p>"},{"location":"api/#5-forgot-password","title":"5. Forgot Password","text":"<pre><code>POST /v1/auth/forgot-password\n</code></pre> <p>This API initiates the password recovery process by sending a password reset link to the email address associated with the user account. Users can use this link to securely reset their password.</p>"},{"location":"api/#6-reset-password","title":"6. Reset Password","text":"<pre><code>POST /v1/auth/reset-password\n</code></pre> <p>This API allows a user to set a new password for their account by providing a valid reset token (usually received via email) and the new password. This process ensures the account's security during password updates.</p>"},{"location":"api/#7-reset-password-request","title":"7. Reset Password Request","text":"<pre><code>POST /v1/auth/reset-password-request\n</code></pre> <p>This API enables users to request a password reset by submitting their registered email address. The system generates a password reset token and sends it to the provided email for further action.</p>"},{"location":"api/#8-request-password","title":"8. Request Password","text":"<pre><code>POST /v1/auth/request-password\n</code></pre> <p>This API initiates the password retrieval or reset process. Similar to the reset-password-request API, the user provides their registered email address to receive further instructions on resetting or recovering their password.</p>"},{"location":"api/#9-send-verification-email","title":"9. Send verification email","text":"<pre><code>POST /v1/auth/send-verification-email\n</code></pre> <p>This API sends a verification email to the user's registered email address. The email contains a token or link that the user can use to verify their email address, ensuring its authenticity.</p>"},{"location":"api/#10-verify-email","title":"10. Verify email","text":"<pre><code>POST /v1/auth/verify-email\n</code></pre> <p>This API verifies the user's email address by validating the token provided in the verification link sent to their email. Successful verification confirms the email's legitimacy and activates the user's account for full access.</p>"},{"location":"api/#accessroute","title":"AccessRoute","text":""},{"location":"api/#1-get-side-menu","title":"1. Get side menu","text":"<pre><code>GET /v1/access/sideMenu\n</code></pre> <p>This API retrieves the structure and content of the side menu tailored to the user's role and permissions. The side menu dynamically adjusts based on the user's access level, ensuring that only relevant and authorized sections of the application are visible.</p>"},{"location":"api/#2-change-account","title":"2. Change Account","text":"<pre><code>POST /v1/access/change-account\n</code></pre> <p>This API allows a user to switch between accounts or roles (if multiple roles or accounts are associated with their profile). Upon changing the account or role, a new JWT token is generated to reflect the updated permissions and access rights, ensuring secure access to the appropriate resources.</p>"},{"location":"api/#agents","title":"Agents","text":""},{"location":"api/#1-create-agent","title":"1. Create Agent","text":"<pre><code>POST /v1/agents/\n</code></pre> <p>This API is used to create a new agent in the system. Users provide necessary details (e.g., name, type, and configuration) to register the agent in the database, enabling it to perform its assigned tasks within the system.</p>"},{"location":"api/#2-get-agents","title":"2. Get Agents","text":"<pre><code>GET /v1/agents/\n</code></pre> <p>This API retrieves a list of all agents currently registered in the system. The response includes basic information for each agent, such as their ID and status.</p>"},{"location":"api/#3-get-all-agents","title":"3. Get All Agents","text":"<pre><code>GET /v1/agents/all\n</code></pre> <p>This API returns detailed information about all agents, including their configurations, statuses, and other key details. It provides a comprehensive view of all agents in the system.</p>"},{"location":"api/#4-agent-heartbeat","title":"4. Agent Heartbeat","text":"<pre><code>GET /v1/agents/heartBeat/:agentId\n</code></pre> <p>This API checks the heartbeat status of a specific agent, indicating whether the agent is online and active. It helps monitor the agent's availability in real time.</p>"},{"location":"api/#5-get-agents-by-site","title":"5. Get Agents by Site","text":"<pre><code>GET /v1/agents/site/:siteRef\n</code></pre> <p>This API fetches a list of agents associated with a specific site, identified by the <code>siteRef</code>. It is useful for site-specific management and monitoring of agents.</p>"},{"location":"api/#6-get-agent","title":"6. Get Agent","text":"<pre><code>GET /v1/agents/:agentId\n</code></pre> <p>This API retrieves detailed information about a specific agent, identified by the <code>agentId</code>. It provides insights into the agent's configuration, status, and other parameters.</p>"},{"location":"api/#7-update-agent","title":"7. Update Agent","text":"<pre><code>PATCH /v1/agents/:agentId\n</code></pre> <p>This API allows you to update the details of a specific agent, identified by the <code>agentId</code>. It can be used to modify agent configurations, update status, or change other parameters.</p>"},{"location":"api/#8-delete-agent","title":"8. Delete Agent","text":"<pre><code>DELETE /v1/agents/:agentId\n</code></pre> <p>This API deletes a specific agent from the system, identified by the <code>agentId</code>. Deleting an agent removes it from monitoring and all associated data, so it should be used with caution.</p>"},{"location":"api/#9-agent-onboarding","title":"9. Agent Onboarding","text":"<pre><code>GET /v1/agents/borg/:obKey\n</code></pre> <p>This API fetches onboarding details for an agent using the provided onboarding key (<code>obKey</code>). It assists in initiating the agent's registration and setup process in the system.</p>"},{"location":"api/#10-agent-info","title":"10. Agent Info","text":"<pre><code>GET /v1/agents/getInfo/:agentId\n</code></pre> <p>This API retrieves specific information about an agent, identified by the <code>agentId</code>. The data may include various operational and configuration details.</p>"},{"location":"api/#11-agent-poll","title":"11. Agent Poll","text":"<pre><code>GET /v1/agents/agentPoll/:agentId\n</code></pre> <p>This API initiates a poll request for a specific agent, identified by <code>agentId</code>. It allows the system to query or collect data from the agent on demand.</p>"},{"location":"api/#12-start-agent-poll","title":"12. Start Agent Poll","text":"<pre><code>GET /v1/agents/agentPollStart/:agentId\n</code></pre> <p>Starts the polling process for a specific agent, enabling the system to regularly fetch updates from the agent.</p>"},{"location":"api/#13-stop-agent-poll","title":"13. Stop Agent Poll","text":"<pre><code>GET /v1/agents/agentPollStop/:agentId\n</code></pre> <p>Stops the ongoing polling process for a specific agent, halting the regular data retrieval from the agent.</p>"},{"location":"api/#14-start-ml-engine","title":"14. Start ML Engine","text":"<pre><code>GET /v1/agents/agentStartMLEngine/:agentId\n</code></pre> <p>Starts the machine learning engine for a specific agent, enabling it to process data and perform machine learning-based tasks.</p>"},{"location":"api/#15-stop-ml-engine","title":"15. Stop ML Engine","text":"<pre><code>GET /v1/agents/agentStopMLEngine/:agentId\n</code></pre> <p>Stops the machine learning engine for a specific agent, pausing machine learning-based processing tasks.</p>"},{"location":"api/#16-agent-stats","title":"16. Agent Stats","text":"<pre><code>GET /v1/agents/agentStats/:agentId\n</code></pre> <p>This API fetches statistics related to a specific agent, including performance metrics, operational data, and other relevant information for monitoring purposes.</p>"},{"location":"api/#17-agent-info","title":"17. Agent Info","text":"<pre><code>GET /v1/agents/agentInfo/:agentId\n</code></pre> <p>This API retrieves detailed information about a specific agent, identified by the <code>agentId</code>. It provides insights into the agent's status, configuration, and other important details.</p>"},{"location":"api/#18-get-agent-networks","title":"18. Get Agent Networks","text":"<pre><code>GET /v1/agents/getAgentNetworks/:agentId\n</code></pre> <p>This API fetches the network configuration details of a specific agent, identified by the <code>agentId</code>. It includes information such as IP addresses, network interfaces, and other connectivity data.</p>"},{"location":"api/#19-discover-cameras-username-and-password","title":"19. Discover Cameras (Username and Password)","text":"<pre><code>GET /v1/agents/discover/:agentId/:username/:password\n</code></pre> <p>This API discovers cameras accessible to a specific agent using the provided <code>username</code> and <code>password</code> for authentication. It helps identify and register devices within the agent's scope.</p>"},{"location":"api/#20-discover-cameras-network-interface","title":"20. Discover Cameras (Network Interface)","text":"<pre><code>GET /v1/agents/discover/:agentId/:networkInterface\n</code></pre> <p>This API discovers cameras connected to a specific network interface of an agent. It uses the network interface as a discovery parameter instead of credentials.</p>"},{"location":"api/#agentshistory","title":"AgentsHistory","text":""},{"location":"api/#1-get-agents-history","title":"1. Get Agents History","text":"<pre><code>GET /v1/agentHistory/\n</code></pre> <p>This API retrieves the historical records of all agents. It provides a comprehensive log of activities, updates, and events associated with each agent in the system, making it useful for monitoring and troubleshooting purposes.</p>"},{"location":"api/#2-get-agent-history","title":"2. Get Agent History","text":"<pre><code>GET /v1/agentHistory/:agentHistoryId\n</code></pre> <p>This API fetches the history of a specific agent, identified by <code>agentHistoryId</code>. It details all recorded actions, updates, and events for the particular agent, providing insights into its operational timeline.</p>"},{"location":"api/#3-delete-agent-history","title":"3. Delete Agent History","text":"<pre><code>DELETE /v1/agentHistory/:agentHistoryId\n</code></pre> <p>This API deletes the historical records of a specific agent, identified by <code>agentHistoryId</code>. Use this with caution, as it permanently removes logs associated with the agent, potentially impacting monitoring and troubleshooting.</p>"},{"location":"api/#cameras","title":"Cameras","text":""},{"location":"api/#1create-camera","title":"1.Create Camera","text":"<pre><code>POST /v1/cameras/\n</code></pre> <p>This API creates a new camera in the system. You can specify the necessary details, such as the camera's name, location, and configuration parameters, to register it for monitoring and management.</p>"},{"location":"api/#2get-cameras","title":"2.Get Cameras","text":"<pre><code>GET /v1/cameras/\n</code></pre> <p>This API retrieves a list of all cameras registered in the system. It provides an overview of all available cameras, including their basic details, for monitoring and administrative purposes.</p>"},{"location":"api/#3-capture-camera","title":"3. Capture Camera","text":"<pre><code>GET /v1/cameras/capture/:cameraId\n</code></pre> <p>This API captures an image from a specific camera, identified by <code>cameraId</code>. It is used to retrieve a snapshot for live monitoring or analysis purposes.</p>"},{"location":"api/#4create-camera-by-site","title":"4.Create Camera by Site","text":"<pre><code>POST /v1/cameras/site\n</code></pre> <p>This API allows you to create a camera and associate it with a specific site. It helps organize cameras based on their physical or logical locations within the system.</p>"},{"location":"api/#5-create-camera-by-site-url","title":"5. Create Camera by Site URL","text":"<pre><code>POST /v1/cameras/site/url\n</code></pre> <p>This API creates a camera using a site URL. It is useful for scenarios where cameras need to be added programmatically based on their network or site configuration.</p>"},{"location":"api/#6get-camera","title":"6.Get Camera","text":"<pre><code>GET /v1/cameras/:cameraId\n</code></pre> <p>This API retrieves detailed information about a specific camera, identified by <code>cameraId</code>. It includes configuration settings, status, and other relevant details.</p>"},{"location":"api/#7update-camera","title":"7.Update Camera","text":"<pre><code>PUT /v1/cameras/:cameraId\n</code></pre> <p>This API updates the information of a specific camera. You can modify attributes such as the name, location, or configuration parameters for the camera, identified by cameraId.</p>"},{"location":"api/#8delete-camera","title":"8.Delete Camera","text":"<pre><code>DELETE /v1/cameras/:cameraId\n</code></pre> <p>This API deletes a specific camera from the system, identified by <code>cameraId</code>. Use this to remove cameras that are no longer needed or operational.</p>"},{"location":"api/#9update-camera-with-url","title":"9.Update Camera with URL","text":"<pre><code>PUT /v1/cameras/url/:cameraId\n</code></pre> <p>This API updates the details of a specific camera using a URL. It is helpful for scenarios where camera configuration or location changes can be defined through URLs, streamlining the update process.</p>"},{"location":"api/#eventroute","title":"EventRoute","text":""},{"location":"api/#1create-event","title":"1.Create Event","text":"<pre><code>POST /v1/events/\n</code></pre> <p>This API creates a new event in the system. Events can represent various occurrences or detections, such as security alerts, operational logs, or system notifications, and are essential for tracking activities and incidents.</p>"},{"location":"api/#2get-event-by-detector","title":"2.Get Event by Detector","text":"<pre><code>POST /v1/events/:siteRef/:agentRef/:detectorRef\n</code></pre> <p>This API retrieves events associated with a specific site, agent, and detector, identified by <code>siteRef</code>, <code>agentRef</code>, and <code>detectorRef</code>. It helps filter events based on their source or origin..</p>"},{"location":"api/#3get-event-logs-by-time-and-group","title":"3.Get Event Logs by Time and Group","text":"<pre><code>GET /v1/events/aggregate\n</code></pre> <p>This API fetches event logs grouped by time, allowing for analysis and visualization of events over specific periods. It is useful for generating reports, creating dashboards, or identifying trends in event activity.</p>"},{"location":"api/#4-get-event","title":"4. Get Event","text":"<pre><code>GET /v1/events/:eventId\n</code></pre> <p>This API retrieves detailed information about a specific event, identified by <code>eventId</code>. It provides insights into the nature, source, and status of the event for further analysis or resolution.</p>"},{"location":"api/#5update-event","title":"5.Update Event","text":"<pre><code>PATCH /v1/events/:eventId\n</code></pre> <p>This API updates the details of a specific event. Changes may include updating the event status, modifying metadata, or adjusting other event parameters.</p>"},{"location":"api/#6delete-event","title":"6.Delete Event","text":"<pre><code>DELETE /v1/events/:eventId\n</code></pre> <p>This API deletes a specific event, identified by <code>eventId</code>. It is typically used to remove obsolete or resolved events from the system.</p>"},{"location":"api/#7get-dashboard-alert","title":"7.Get Dashboard Alert","text":"<pre><code>POST /v1/events/dashboard/alert\n</code></pre> <p>This API fetches alerts for the dashboard based on events. These alerts highlight critical or actionable events that require immediate attention from users or administrators.</p>"},{"location":"api/#8-acknowledge-event","title":"8. Acknowledge Event","text":"<pre><code>PATCH /v1/events/acknowledge/:eventId\n</code></pre> <p>This API acknowledges a specific event, identified by <code>eventId</code>. Acknowledging an event indicates that it has been reviewed or addressed, assisting in managing and tracking the event's resolution status.</p>"},{"location":"api/#scheduleroute","title":"ScheduleRoute","text":""},{"location":"api/#1-create-schedule","title":"1. Create Schedule","text":"<pre><code>POST /v1/schedules/\n</code></pre> <p>This API creates a new schedule in the system. Schedules define time-based configurations or tasks, such as camera monitoring schedules or system checks, ensuring that operations are performed at the appropriate times.</p>"},{"location":"api/#2-get-schedules","title":"2. Get Schedules","text":"<pre><code>GET /v1/schedules/\n</code></pre> <p>This API retrieves all schedules in the system. It provides a list of configured schedules, including their details, to help users manage and review time-based operations.</p>"},{"location":"api/#3get-detector-configuration-by-agent","title":"3.Get Detector Configuration by Agent","text":"<pre><code>GET /v1/schedules/getDetectorConfigByAgent\n</code></pre> <p>This API fetches the detector configurations associated with a specific agent. It allows users to review and manage detector-related settings for efficient scheduling and execution.</p>"},{"location":"api/#4push-schedule","title":"4.Push Schedule","text":"<pre><code>POST /v1/schedules/pushSchedule/:agentId\n</code></pre> <p>This API pushes a schedule to a specified agent, identified by <code>agentId</code>. It ensures that the agent operates according to the predefined schedule, such as executing specific tasks or processes at designated times.</p>"},{"location":"api/#5get-schedule","title":"5.Get Schedule","text":"<pre><code>GET /v1/schedules/:scheduleId\n</code></pre> <p>This API retrieves details of a specific schedule, identified by <code>scheduleId</code>. It provides comprehensive information about the schedule, including its purpose, time settings, and associated resources.</p>"},{"location":"api/#6update-schedule","title":"6.Update Schedule","text":"<pre><code>PATCH /v1/schedules/:scheduleId\n</code></pre> <p>This API updates the details of a specific schedule. Modifications can include changing the schedule's timing, associated tasks, or configuration parameters.</p>"},{"location":"api/#7delete-schedule","title":"7.Delete Schedule","text":"<pre><code>DELETE /v1/schedules/:scheduleId\n</code></pre> <p>This API deletes a specific schedule from the system, identified by <code>scheduleId</code>. Use this to remove outdated or unnecessary schedules, helping to keep the system clean and organized.</p>"},{"location":"api/#datalakeroute","title":"DataLakeRoute","text":""},{"location":"api/#1get-data-lakes","title":"1.Get Data Lakes","text":"<pre><code>GET /v1/dataLakes/\n</code></pre> <p>This API retrieves a list of all available data lakes in the system. Data lakes are centralized repositories used to store, manage, and analyze large volumes of structured and unstructured data. The response includes details such as data lake names, locations, and configurations, helping users monitor and manage their data storage resources.</p>"},{"location":"api/#businessaccountroute","title":"BusinessAccountRoute","text":""},{"location":"api/#1create-business-account","title":"1.Create Business Account","text":"<pre><code>POST /v1/businessAccounts/\n</code></pre> <p>This API creates a new business account in the system. It is used to register a new entity, enabling access to business-related services and resources.</p>"},{"location":"api/#2-get-business-accounts","title":"2. Get Business Accounts","text":"<pre><code>GET /v1/businessAccounts/\n</code></pre> <p>This API retrieves a list of all business accounts in the system. It provides an overview of the registered business accounts, including basic details for management and monitoring purposes.</p>"},{"location":"api/#3get-all-business-switches","title":"3.Get All Business Switches","text":"<pre><code>GET /v1/businessAccounts/AllBusiness\n</code></pre> <p>This API fetches all business switches, providing details on the status and configuration of business accounts within the system.</p>"},{"location":"api/#4get-business-accounts-by-type","title":"4.Get Business Accounts by Type","text":"<pre><code>GET /v1/businessAccounts/business-type/:typeNo\n</code></pre> <p>This API retrieves business accounts based on a specific type, identified by <code>typeNo</code>. It allows for filtering accounts by their classification or purpose, such as different business categories or services.</p>"},{"location":"api/#5fetch-assignable-customers","title":"5.Fetch Assignable Customers","text":"<pre><code>GET /v1/businessAccounts/assign\n</code></pre> <p>This API fetches a list of customers that can be assigned by an admin to a partner. It facilitates the management of customer assignments and business relationships.</p>"},{"location":"api/#6assign-business-to-partner","title":"6.Assign Business to Partner","text":"<pre><code>PATCH /v1/businessAccounts/assign\n</code></pre> <p>This API assigns a business to a partner. It modifies the business's association within the system, establishing a partnership between the two entities.</p>"},{"location":"api/#7get-new-navbar-list","title":"7.Get New Navbar List","text":"<pre><code>GET /v1/businessAccounts/navbar\n</code></pre> <p>This API fetches a new navbar list for business accounts. It provides an updated navigation structure for managing business account-related settings and resources.</p>"},{"location":"api/#8-get-business-account","title":"8. Get Business Account","text":"<pre><code>GET /v1/businessAccounts/:businessAccountId\n</code></pre> <p>This API retrieves detailed information about a specific business account, identified by <code>businessAccountId</code>. It provides insights into the account's configuration, resources, and status.</p>"},{"location":"api/#9update-business-account","title":"9.Update Business Account","text":"<pre><code>PATCH /v1/businessAccounts/:businessAccountId\n</code></pre> <p>This API updates a specific business account, identified by <code>businessAccountId</code>. Modifications may include changes to account settings, contact information, or service configurations.</p>"},{"location":"api/#10delete-business-account","title":"10.Delete Business Account","text":"<pre><code>DELETE /v1/businessAccounts/:businessAccountId\n</code></pre> <p>This API deletes a specific business account from the system, identified by <code>businessAccountId</code>. Use this to remove inactive or unnecessary business accounts from the system.</p>"},{"location":"api/#userroute","title":"UserRoute","text":""},{"location":"api/#1create-user","title":"1.Create User","text":"<pre><code>POST /v1/users/\n</code></pre> <p>This API creates a new user in the system. It registers a user with the provided details, enabling access to the platform and associated services.</p>"},{"location":"api/#2get-users","title":"2.Get Users","text":"<pre><code>GET /v1/users/\n</code></pre> <p>This API retrieves a list of all users in the system. It provides an overview of registered users, including basic details like names, roles, and statuses.</p>"},{"location":"api/#3create-super-admin","title":"3.Create Super Admin","text":"<pre><code>POST /v1/users/create-super-admin/\n</code></pre> <p>This API creates a super admin user with elevated privileges. Super admins typically have the highest level of access and can manage system-wide settings, including other users.</p>"},{"location":"api/#4upload-user-avatar","title":"4.Upload User Avatar","text":"<pre><code>PUT /v1/users/upload-avatar/:userId\n</code></pre> <p>This API uploads an avatar for a specific user, identified by <code>userId</code>. The avatar can be used for user profiles or personalized visuals in the system.</p>"},{"location":"api/#5reset-user-password","title":"5.Reset User Password","text":"<pre><code>POST /v1/users/reset-password/:userId\n</code></pre> <p>This API resets the password for a specific user, identified by <code>userId</code>. It allows for restoring access in case of forgotten passwords or security breaches.</p>"},{"location":"api/#6-get-user","title":"6. Get User","text":"<pre><code>GET /v1/users/:userId\n</code></pre> <p>This API retrieves detailed information about a specific user, identified by <code>userId</code>. It includes data such as the user's name, email, role, and other profile information.</p>"},{"location":"api/#7update-user","title":"7.Update User","text":"<pre><code>PUT /v1/users/:userId\n</code></pre> <p>This API updates the details of a specific user, identified by <code>userId</code>. Updates may include changes to the user's name, email, role, or other profile information.</p>"},{"location":"api/#8delete-user","title":"8.Delete User","text":"<pre><code>DELETE /v1/users/:userId\n</code></pre> <p>This API deletes a specific user from the system, identified by <code>userId</code>. Use this to remove inactive or unnecessary users from the platform.</p>"},{"location":"api/#roleroute","title":"RoleRoute","text":""},{"location":"api/#1get-roles","title":"1.Get Roles","text":"<pre><code>GET /v1/roles/\n</code></pre> <p>This API retrieves a list of all roles in the system. It provides a comprehensive view of all the different roles available, which may be associated with varying levels of permissions and responsibilities within the platform.</p>"},{"location":"api/#2get-business-roles","title":"2.Get Business Roles","text":"<pre><code>GET /v1/roles/business\n</code></pre> <p>This API fetches roles specifically associated with business entities. These roles may include permissions and capabilities relevant to business management and operations.</p>"},{"location":"api/#3get-all-roles-with-users","title":"3.Get All Roles with Users","text":"<pre><code>GET /v1/roles/role-user\n</code></pre> <p>This API retrieves all roles along with their associated users. It helps in understanding which users are assigned to which roles, making role management more transparent and organized.</p>"},{"location":"api/#4get-all-users-grouped-by-roles","title":"4.Get All Users Grouped by Roles","text":"<pre><code>GET /v1/roles/user-groupby-roles\n</code></pre> <p>This api fetches all users, grouped by their assigned roles. It allows for quick visualization of the user distribution across different roles in the system.</p>"},{"location":"api/#5get-current-role","title":"5.Get Current Role","text":"<pre><code>GET /v1/roles/current-role\n</code></pre> <p>This API retrieves the current role of the authenticated user. It provides information about the user's active role and associated permissions in the system.</p>"},{"location":"api/#6assign-super-admin-role","title":"6.Assign Super Admin Role","text":"<pre><code>PUT /v1/roles/assign-super-admin/:userId\n</code></pre> <p>This API assigns the Super Admin role to a specific user, identified by <code>userId</code>. Super Admins typically have the highest level of access and control over the system.</p>"},{"location":"api/#7-get-role-by-id","title":"7. Get Role by ID","text":"<pre><code>GET /v1/roles/:roleId\n</code></pre> <p>This API retrieves detailed information about a specific role, identified by <code>roleId</code>. It provides insights into the permissions, responsibilities, and scope associated with that role.</p>"},{"location":"api/#8update-role","title":"8.Update Role","text":"<pre><code>PATCH /v1/roles/:roleId\n</code></pre> <p>Note: This API is currently commented.</p> <p>This API updates the details of an existing role using its unique <code>roleId</code>. It allows changes to the role\u2019s name, permissions, or other associated attributes.</p>"},{"location":"api/#9delete-role","title":"9.Delete Role","text":"<pre><code>DELETE /v1/roles/:roleId\n</code></pre> <p>Note: This API is currently commented.</p> <p>This API deletes a specific role from the system using its unique <code>roleId</code>.</p>"},{"location":"api/#roiroute","title":"RoiRoute","text":""},{"location":"api/#1create-roi","title":"1.Create ROI","text":"<pre><code>POST /v1/rois/\n</code></pre> <p>This API creates a new Region of Interest (ROI) in the system. An ROI is a specific area within a camera's field of view or monitoring space, which can be used for focused monitoring, analysis, or detection.</p>"},{"location":"api/#2get-rois","title":"2.Get ROIs","text":"<pre><code>GET /v1/rois/\n</code></pre> <p>This API retrieves a list of all ROIs available in the system. It provides an overview of the different regions marked for monitoring or analysis across various cameras or systems.</p>"},{"location":"api/#3create-roi-with-detector-reference","title":"3.Create ROI with Detector Reference","text":"<pre><code>POST /v1/rois/detectorRef/:detectorRef/:agentRef\n</code></pre> <p>This API creates a new ROI and links it to a specific detector and agent, identified by their <code>detectorRef</code> and <code>agentRef</code>. This allows for targeting a particular area of interest tied to specific detection systems and agents.</p>"},{"location":"api/#4update-roi","title":"4.Update ROI","text":"<pre><code>PATCH /v1/rois/:roiId/:agentRef\n</code></pre> <p>This API updates a specific ROI, identified by its <code>roiId</code>, and links it to a specific agent, identified by <code>agentRef</code>. The update can modify aspects such as the ROI's dimensions, coordinates, or other parameters.</p>"},{"location":"api/#5delete-roi","title":"5.Delete ROI","text":"<pre><code>DELETE /v1/rois/:roiId/:detectorRef/:agentRef\n</code></pre> <p>This API deletes a specific ROI by its unique <code>roiId</code>, along with the associated <code>detectorRef</code> and <code>agentRef</code>. This is used to remove unnecessary or outdated regions of interest from the system.</p>"},{"location":"api/#6get-roi-by-id","title":"6.Get ROI by ID","text":"<pre><code>GET /v1/rois/:roiId\n</code></pre> <p>This API retrieves detailed information about a specific ROI, identified by its unique <code>roiId</code>. It provides insights into the dimensions, coordinates, and other relevant data associated with the Region of Interest.</p>"},{"location":"api/#7update-roi-by-id","title":"7.Update ROI by ID","text":"<pre><code>PATCH /v1/rois/:roiId\n</code></pre> <p>This API updates the details of a specific ROI, identified by its <code>roiId</code>. It allows for modifications to the ROI's attributes, such as its size, position, or other characteristics.</p>"},{"location":"api/#detectordefroute","title":"DetectorDefRoute","text":""},{"location":"api/#1get-detector-definitions","title":"1.Get Detector Definitions","text":"<pre><code>GET /v1/detectorDefs/\n</code></pre> <p>This API retrieves a list of all available detector definitions in the system. Detector definitions describe the various types of detectors that can be used in the monitoring system, including their characteristics and capabilities.</p>"},{"location":"api/#2get-specific-detector-definition","title":"2.Get Specific Detector Definition","text":"<pre><code>GET /v1/detectorDefs/:detectorDefId\n</code></pre> <p>This API fetches detailed information about a specific detector definition, identified by its <code>detectorDefId</code>. It offers a comprehensive overview of the detector's configuration, functionality, and parameters, enabling users to understand its capabilities and integration options within the monitoring system.</p>"},{"location":"api/#detectorconfigroute","title":"DetectorConfigRoute","text":""},{"location":"api/#1-create-detector-config","title":"1. Create Detector Config","text":"<pre><code>POST /v1/detectorConfigs/\n</code></pre> <p>This API creates a new detector configuration in the system. A detector configuration defines how a detector operates and interacts with other system components, such as cameras and agents.</p>"},{"location":"api/#2-get-detector-configurations","title":"2. Get Detector Configurations","text":"<pre><code>GET /v1/detectorConfigs/\n</code></pre> <p>This API retrieves a list of all detector configurations in the system, offering an overview of the various detector setups defined for different monitoring and detection requirements.</p>"},{"location":"api/#3-get-detectors-by-roi-references","title":"3. Get Detectors by ROI References","text":"<pre><code>GET /v1/detectorConfigs/byRois\n</code></pre> <p>This API retrieves detectors associated with specific ROI (Region of Interest) references, enabling filtering based on the areas of interest they are linked to within the system.</p>"},{"location":"api/#4push-detector-config","title":"4.Push Detector Config","text":"<pre><code>POST /v1/detectorConfigs/pushConf/:agentId\n</code></pre> <p>This API deploys a detector configuration to a specified agent, identified by its <code>agentId</code>, enabling the application of new or updated detector settings to the agent.</p>"},{"location":"api/#5get-detectors-without-schedule","title":"5.Get Detectors Without Schedule","text":"<pre><code>GET /v1/detectorConfigs/listDectector/:agentId\n</code></pre> <p>This API retrieves a list of detectors associated with a specific agent, identified by its <code>agentId</code>, that currently lack assigned schedules. This helps identify detectors that are ready to be scheduled or configured for monitoring.</p>"},{"location":"api/#6-get-detector-config-by-id","title":"6. Get Detector Config by ID","text":"<pre><code>GET /v1/detectorConfigs/:detectorConfigId\n</code></pre> <p>This API retrieves detailed information about a specific detector configuration, identified by its <code>detectorConfigId</code>. It provides comprehensive details about the configuration, including its settings and parameters.</p>"},{"location":"api/#7update-detector-config","title":"7.Update Detector Config","text":"<pre><code>PATCH /v1/detectorConfigs/:detectorConfigId\n</code></pre> <p>This API updates the details of a specific detector configuration identified by its <code>detectorConfigId</code>, allowing modifications to the settings or parameters of the configuration.</p>"},{"location":"api/#8-delete-detector-config","title":"8. Delete Detector Config","text":"<pre><code>DELETE /v1/detectorConfigs/:detectorConfigId\n</code></pre> <p>This API deletes a specific detector configuration from the system, identified by its <code>detectorConfigId</code>, removing it from the system's monitoring and detection setup.</p>"},{"location":"api/#9get-detector-config-by-camera-reference","title":"9.Get Detector Config by Camera Reference","text":"<pre><code>GET /v1/detectorConfigs/cameraRef/:cameraRef\n</code></pre> <p>This API retrieves the detector configurations linked to a specific camera reference, identified by its <code>cameraRef</code>, enabling the identification of the detector settings associated with that particular camera in the system.</p>"},{"location":"api/#siteroute","title":"SiteRoute","text":""},{"location":"api/#1-create-a-site-and-agent","title":"1. Create a Site and Agent","text":"<pre><code>POST /v1/sites\n</code></pre> <p>This API creates a new site and an associated agent in the database, registering both a physical site and the necessary agent for monitoring or other system tasks.</p> <p>Additional operations:</p> <ul> <li>Creating a Pub/Sub topic and subscription using the agent ID.</li> <li>Creating GCP Cloud Storage folders (<code>images</code>, <code>videos</code>, <code>discover</code>, <code>logs</code>).</li> <li>Saving the GCP service key and a unique UUID (agent access key) to the agent model.</li> </ul>"},{"location":"api/#2-fetch-all-sites-for-a-business","title":"2. Fetch All Sites for a Business","text":"<pre><code>GET /v1/sites\n</code></pre> <p>This API retrieves all sites associated with a specific business, providing a list of all locations or establishments under the same business entity.</p>"},{"location":"api/#3-create-multiple-sites","title":"3. Create Multiple Sites","text":"<pre><code>POST /v1/sites/siteByBusiness\n</code></pre> <p>This API enables the creation of multiple sites, each with its corresponding agent, for a specific business. It facilitates bulk registration of sites and agents for businesses with numerous locations.</p>"},{"location":"api/#4-fetch-site-details-by-id","title":"4. Fetch Site Details by ID","text":"<pre><code>GET /v1/sites/{siteId}\n</code></pre> <p>This API retrieves detailed information about a specific site, identified by its <code>siteId</code>, providing in-depth data on the site's configuration, setup, or current status.</p>"},{"location":"api/#5-update-site-details","title":"5. Update Site Details","text":"<pre><code>PATCH /v1/sites/{siteId}\n</code></pre> <p>This API updates the details of an existing site, identified by its <code>siteId</code>, allowing modifications to the site's configuration or information.</p>"},{"location":"api/#6-delete-a-site","title":"6. Delete a Site","text":"<pre><code>DELETE /v1/sites/{siteId}\n</code></pre> <p>This API deletes a specific site, identified by its <code>siteId</code>, and removes all associated components from the database, including the site and its corresponding agent.</p> <p>Additional operations:</p> <ul> <li>Deleting the Pub/Sub subscription and topic related to the agent.</li> <li>Deleting the associated folders and files from GCP storage.</li> </ul>"},{"location":"api/#agentoproute","title":"AgentOpRoute","text":""},{"location":"api/#1create-operation-request","title":"1.Create Operation Request","text":"<pre><code>POST /v1/agentOps/:agentId/:opId\n</code></pre> <p>This API creates a new operation request for a specific agent, identified by its <code>agentId</code>, and associates it with an operation identified by <code>opId</code>. This request triggers an operation on the specified agent, which may involve tasks such as configuration changes, updates, or other actions.</p>"},{"location":"api/#dashboardroute","title":"DashboardRoute","text":""},{"location":"api/#1fetch-all-business-count","title":"1.Fetch All Business Count","text":"<pre><code>GET /v1/customer\n</code></pre> <p>This API retrieves the total number of businesses available in the system. The count is displayed on the user dashboard, offering an overview of the scale of businesses managed by the platform. It provides quick insights into the total business volume.</p>"},{"location":"api/#2fetch-all-business-alerts","title":"2.Fetch All Business Alerts","text":"<pre><code>POST /v1/alert\n</code></pre> <p>This API fetches a list of alerts related to businesses. These alerts are displayed on the dashboard to notify businesses of important updates or actions required, such as pending tasks, system warnings, or other relevant business-related information.</p>"},{"location":"api/#3set-alert-action","title":"3.Set Alert Action","text":"<pre><code>POST /v1/alert/action\n</code></pre> <p>This API allows users to set or update actions associated with specific business alerts. For example, users can acknowledge alerts, mark them as resolved, or trigger follow-up actions. This functionality aids in managing and tracking alert-related activities efficiently.</p>"},{"location":"api/#4fetch-alerts-by-gender","title":"4.Fetch Alerts by Gender","text":"<pre><code>POST /v1/alert/gender\n</code></pre> <p>This API retrieves business alerts filtered by gender-specific data, allowing users to analyze or act upon alerts based on demographic insights, such as male or female engagement metrics. This feature is useful for targeted business operations and decision-making.</p>"},{"location":"api/#5fetch-gender-based-alert-graph","title":"5.Fetch Gender-Based Alert Graph","text":"<pre><code>POST /v1/alert/gender/graph\n</code></pre> <p>This API generates graphical data representing gender-specific business alerts. The output can be used for visual analysis, helping users identify trends or patterns in business alerts based on gender demographics.</p>"},{"location":"api/#6fetch-business-dashboard-data","title":"6.Fetch Business Dashboard Data","text":"<pre><code>GET /v1/business\n</code></pre> <p>This API retrieves comprehensive data for the business dashboard, including metrics, summaries, and insights that assist users in monitoring and managing business performance directly from the dashboard.</p>"},{"location":"api/#7fetch-business-plan-dashboard-data","title":"7.Fetch Business Plan Dashboard Data","text":"<pre><code>GET /v1/business/plan\n</code></pre> <p>This API retrieves detailed information about business plans, including active subscriptions, plan usage, and related statistics, for display on the user dashboard. It provides insights into the status and performance of business plans.</p>"},{"location":"api/#8fetch-business-collaboration-data","title":"8.Fetch Business Collaboration Data","text":"<pre><code>GET /v1/business/collaboration\n</code></pre> <p>This API retrieves detailed information about collaboration between businesses, such as partnerships or shared initiatives. The data displayed on the dashboard includes the scope of collaboration, statuses, and related metrics to help users manage inter-business relationships effectively.</p>"},{"location":"api/#pusherroute","title":"PusherRoute","text":""},{"location":"api/#1authenticate-user","title":"1.Authenticate User","text":"<pre><code>GET /v1/user-auth\n</code></pre> <p>This API authenticates a user via a GET request, typically used for quick authentication without the need to submit sensitive data in the request body.</p>"},{"location":"api/#2authenticate-user-post","title":"2.Authenticate User (POST)","text":"<pre><code>POST /v1/user-auth\n</code></pre> <p>This API authenticates a user via a POST request, typically used when the authentication process requires sending sensitive data, such as a username and password, in the request body.</p>"},{"location":"api/#3authorize-user","title":"3.Authorize User","text":"<pre><code>POST /v1/auth\n</code></pre> <p>This API authorizes a user for access to specific resources or actions, ensuring that the user has the necessary permissions to perform a particular operation within the system.</p>"},{"location":"api/#notificationroute","title":"NotificationRoute","text":""},{"location":"api/#1get-notification-list","title":"1.Get Notification List","text":"<pre><code>GET /v1/notifications/\n</code></pre> <p>This API retrieves a list of all notifications for the authenticated user, typically used to display any new or pending notifications within the system, such as alerts or system messages.</p>"},{"location":"api/#2create-notification-developmenttesting-only","title":"2.Create Notification (Development/Testing Only)","text":"<pre><code>POST /v1/notifications/\n</code></pre> <p>This API allows for the creation of a new notification, primarily for development or testing purposes, where users can simulate notifications for testing scenarios. The request body typically includes notification details such as the message content or type.</p>"},{"location":"api/#3-acknowledge-notification","title":"3. Acknowledge Notification","text":"<pre><code>PUT /v1/notifications/\n</code></pre> <p>This API is used to mark one or more notifications as \"acknowledged.\" Once a user interacts with or views a notification, this API flags it as acknowledged, ensuring that it no longer appears as an active or unread notification in the system.</p>"},{"location":"api/#4get-notification-by-id","title":"4.Get Notification by ID","text":"<pre><code>GET /v1/notifications/:notifId\n</code></pre> <p>This API fetches details of a specific notification by its unique ID, allowing the user to view the full content and details, such as the message, timestamp, and any relevant data associated with the notification.</p>"},{"location":"api/#lookuproute","title":"LookupRoute","text":""},{"location":"api/#1-get-all-constants","title":"1.. Get All Constants","text":"<pre><code>GET /v1/constants/all\n</code></pre> <p>This API retrieves all constant values defined within the system. These constants may include system-wide settings, default configurations, or predefined values used across various operations. They are typically not expected to change during runtime and are consistently applied throughout the application.</p>"},{"location":"api/#discovercameraroute","title":"DiscoverCameraRoute","text":""},{"location":"api/#1start-camera-discovery","title":"1.Start Camera Discovery","text":"<pre><code>POST /v1/cameraDiscover/:agentRef\n</code></pre> <p>This API initiates the process of discovering cameras for a specific agent, identified by its <code>agentRef</code>. When called, it triggers the system to search for available cameras that can be associated with the specified agent, enabling automatic detection and configuration of cameras within the agent's environment.</p>"},{"location":"api/#2get-camera-discovery-list","title":"2.Get Camera Discovery List","text":"<pre><code>GET /v1/cameraDiscover/:siteRef/:agentRef\n</code></pre> <p>This API retrieves a list of cameras discovered for a particular site (<code>siteRef</code>) and agent (<code>agentRef</code>). It returns the cameras available for the specified agent at the given site, typically after the discovery process has been initiated. This helps in managing and reviewing the detected cameras.</p>"},{"location":"api/#planroute","title":"PlanRoute","text":""},{"location":"api/#1get-plan-details","title":"1.Get Plan Details","text":"<pre><code>GET /v1/plan/\n</code></pre> <p>This API retrieves the details of the current plan or subscription associated with the user or business. It provides information about the active plan, including available features, limitations, billing cycle, and other plan-specific data. This is useful for checking the subscription status and understanding the features currently accessible.</p>"},{"location":"api/#collaborationroute","title":"CollaborationRoute","text":""},{"location":"api/#1get-collaboration-details","title":"1.Get Collaboration Details","text":"<pre><code>GET /v1/collaboration/\n</code></pre> <p>This API retrieves details about collaboration settings between partners and customers, including the status, scope, and specific settings of their partnership. It helps manage interactions and coordinate shared resources or activities effectively.</p>"},{"location":"diagram/","title":"Diagram","text":""},{"location":"diagram/#flowcharts","title":"Flowcharts","text":"<pre><code>flowchart LR\n    %% Frontend\n    subgraph Frontend\n        UI[User Interface]\n    end\n\n    %% Backend (GCP)\n    subgraph GCP\n        REST[REST API]\n        Alert[Alert Processor]\n        PubSub[Pub/Sub]\n        CloudStorage[Cloud Storage]\n    end\n\n    %% Database\n    subgraph Database\n        MongoDB[MongoDB]\n    end\n\n    %% Agents\n    subgraph Agents\n        Agent[Agent]\n    end\n\n    %% Notifications\n    subgraph Notification\n        Pusher[Web Notification]\n    end\n\n    %% Relationships\n    UI --&gt; REST\n    REST --&gt; MongoDB\n    REST --&gt; PubSub\n    REST --&gt; CloudStorage\n    CloudStorage --&gt; Alert\n    Alert --&gt; PubSub\n    Alert --&gt; Pusher\n    PubSub --&gt; Agent\n    Agent --&gt; CloudStorage\n</code></pre>"},{"location":"main/","title":"Main","text":""},{"location":"main/#purpose","title":"Purpose","text":"<p>The <code>main.py</code> file initializes a Flask web server to provide API routes for managing an agent, handling configurations, and interacting with cameras. It leverages modules such as <code>lib.agent</code> and <code>utils.constantFiles</code> for functionality.</p>"},{"location":"main/#api","title":"API","text":""},{"location":"main/#general","title":"General","text":"<pre><code>GET /\n</code></pre> <p>Returns a list of all available routes in the application.</p>"},{"location":"main/#agent-management","title":"Agent Management","text":""},{"location":"main/#1-get-agent-status","title":"1. Get Agent Status","text":"<pre><code>GET /agent\n</code></pre> <p>This API returns the current status of the agent. It helps monitor whether the agent is active, inactive, or encountering any issues.</p>"},{"location":"main/#2-start-agent","title":"2. Start Agent","text":"<pre><code>POST /agent/start\n</code></pre> <p>This API starts the agent. Use it to initialize the agent's operations when it is in an inactive state.</p>"},{"location":"main/#3stop-agent","title":"3.Stop Agent","text":"<pre><code>POST /agent/stop\n</code></pre> <p>This API stops the agent. It is useful when the agent needs to be paused or shut down for maintenance or troubleshooting.</p>"},{"location":"main/#4restart-agent","title":"4.Restart Agent","text":"<pre><code>POST /agent/restart\n</code></pre> <p>This API restarts the agent. If the agent is running, it stops it, waits for 4 seconds, and then starts it again. It ensures a fresh start without manual intervention.</p>"},{"location":"main/#configuration","title":"Configuration","text":""},{"location":"main/#1-agent-configuration","title":"1. Agent Configuration","text":"<pre><code>GET /agent_config\n</code></pre> <p>This API returns the current configuration of the agent, allowing you to view the existing settings.</p> <pre><code>POST /agent_config\n</code></pre> <p>This API creates the agent configuration with the provided JSON if it does not already exist</p>"},{"location":"main/#2-model-configuration","title":"2. Model Configuration","text":"<pre><code>GET /model_config\n</code></pre> <p>This API retrieves the current configuration of the model, providing insight into its current setup and parameters.</p> <pre><code>POST /model_config\n</code></pre> <p>This API creates the model configuration with the provided JSON if it does not already exist</p>"},{"location":"main/#camera-management","title":"Camera Management","text":""},{"location":"main/#1-get-cameras-list","title":"1. Get Cameras List","text":"<pre><code>GET /cameras\n</code></pre> <p>This API returns a list of available cameras, including their respective URLs for monitoring and management.</p>"},{"location":"main/#2-get-camera-details","title":"2. Get Camera Details","text":"<pre><code>GET /camera/&lt;camera_id&gt;\n</code></pre> <p>This API returns detailed information about a specific camera, identified by the <code>camera_id</code>, allowing you to manage and monitor its settings and status.</p>"},{"location":"main/#key-components","title":"Key Components","text":""},{"location":"main/#1-initialization","title":"1. Initialization","text":"<ul> <li>Initializes a Flask application instance: <code>app = Flask(__name__)</code>.</li> <li>Creates an instance of the <code>Agent</code> class from <code>lib.agent</code>.</li> </ul>"},{"location":"main/#2-routes","title":"2. Routes","text":"<ul> <li>Defines multiple routes for agent management, configuration updates, and camera interactions.</li> </ul>"},{"location":"main/#3-agent-auto-start","title":"3. Agent Auto-Start","text":"<ul> <li>If the Hawk configuration file exists (<code>HawkConfigFile</code>), the agent auto-starts using the <code>auto_start_agent()</code> method during application initialization.</li> </ul>"},{"location":"main/#4-graceful-shutdown","title":"4. Graceful Shutdown","text":"<ul> <li>Implements a mechanism to handle keyboard interrupts (<code>KeyboardInterrupt</code>) for graceful agent shutdown and server termination.</li> </ul>"},{"location":"main/#running-the-application","title":"Running the Application","text":"<p>The application is run using the <code>run_app()</code> function, which:</p> <ol> <li>Checks for the Hawk configuration file and auto-starts the agent if present.</li> <li>Starts the Flask server on <code>0.0.0.0</code> at port <code>55910</code>.</li> </ol> <p>Command:</p> <pre><code>python main.py\n</code></pre>"},{"location":"main/#error-handling","title":"Error Handling","text":"<ul> <li>Handles errors during server shutdown, particularly when the application is not running with the Werkzeug server.</li> <li>Ensures the agent is stopped before exiting on a keyboard interrupt.</li> </ul>"},{"location":"main/#dependencies","title":"Dependencies","text":"<ul> <li>Flask: Web framework for Python.</li> <li>lib.agent: Custom module for agent management.</li> <li>utils.constantFiles: Provides constants like the Hawk configuration file path.</li> </ul>"},{"location":"main/#notes","title":"Notes","text":"<ul> <li>Ensure the required dependencies are installed by running:   <pre><code>pip install -r requirements.txt\n</code></pre></li> <li>Update <code>HawkConfigFile</code> and other configurations as needed before starting the server.</li> </ul>"},{"location":"setup/","title":"Setup","text":""},{"location":"setup/#overview","title":"Overview","text":"<p>This script is designed to set up and manage various background processes for a web service application. It performs tasks such as:</p> <ul> <li>Checking and creating required directories</li> <li>Installing necessary packages</li> <li>Authenticating the system</li> <li>Downloading necessary files</li> <li>Managing GCP Pub/Sub messages</li> <li>Sending agent status updates</li> <li>Running the main application</li> </ul>"},{"location":"setup/#requirements","title":"Requirements","text":"<ul> <li>Python 3.x</li> <li>Required packages from <code>requirements.txt</code></li> <li>Access to GCP for Pub/Sub messages</li> <li>Configuration file for the agent</li> </ul>"},{"location":"setup/#script-details","title":"Script Details","text":""},{"location":"setup/#libraries-used","title":"Libraries Used","text":"<ul> <li><code>os</code>: For interacting with the operating system, such as checking file paths and managing subprocesses.</li> <li><code>sys</code>: For system-specific parameters and functions.</li> <li><code>logging</code>: For logging information, errors, and application status.</li> <li><code>multiprocessing</code>: To manage multiple processes concurrently.</li> <li><code>subprocess</code>: To run external commands and manage processes.</li> <li><code>Event</code>: A synchronization primitive from the <code>multiprocessing</code> library for managing the termination of processes.</li> </ul>"},{"location":"setup/#functions","title":"Functions","text":""},{"location":"setup/#stop_processes","title":"<code>stop_processes()</code>","text":"<p>Stops all running processes by:</p> <ul> <li>Setting the terminate event to stop processes.</li> <li>Terminating and waiting for each process to finish.</li> </ul>"},{"location":"setup/#main_setup","title":"<code>main_setup()</code>","text":"<p>Main setup function that performs several tasks:</p> <ol> <li>Create Required Directories and Copy Prerequisites:    Calls the <code>check_required_dir</code> function to ensure the necessary directories are created.</li> <li>Install Required Packages:    Installs the necessary Python packages using the <code>Installer</code> class from <code>utils.installedPackage</code>.</li> <li>Onboard Token and Fetch Config File:    Authenticates using the <code>Board</code> class from <code>webservice.onBoard</code> and fetches the config file.</li> <li>Download Weights:    Downloads necessary files, such as weights, once the agent is configured using <code>DownloadWeights</code>.</li> <li>Handle Pub/Sub Messages:    Starts a process to listen to GCP Pub/Sub messages using <code>PubSubListener</code>.</li> <li>Send Agent Status Every 5 Minutes:    Starts a process to monitor and send agent status using the <code>monitor_process</code> function from <code>webservice.heartBeat</code>.</li> <li>Run the Main Application:    Starts the main application using the <code>run_app</code> function from <code>main.py</code>.</li> </ol>"},{"location":"setup/#main-block","title":"<code>main</code> Block","text":"<ul> <li>Runs the <code>main_setup</code> function.</li> <li>Catches <code>KeyboardInterrupt</code> to stop processes and exit gracefully.</li> </ul>"},{"location":"setup/#running-the-application","title":"Running the Application","text":"<ol> <li>Ensure the required directories and files are set up.</li> <li>Install the necessary Python packages using <code>requirements.txt</code>.</li> </ol> <p>Command:</p> <pre><code>python setup.py\n</code></pre>"},{"location":"setup/#dependencies","title":"Dependencies","text":"<ul> <li>utils.constantFiles: Provides constants like the Hawk configuration file path.</li> <li>utils.create_dirs: Manages directory creation for prerequisites.</li> <li>utils.installedPackage: Handles package installation from requirements.txt.</li> <li>webservice.onBoard: Manages onboarding and authentication.</li> <li>helper.downloadWeights: Manages downloading of necessary weights files.</li> <li>handler.pub_sub_listener: Listens for messages from Google Cloud Pub/Sub.</li> <li>webservice.heartBeat: Monitors and sends agent status.</li> <li>main: Main application logic.</li> </ul>"},{"location":"setup/#logging","title":"Logging","text":"<ul> <li>All events are logged using the Python logging module.</li> <li>Log messages include information about the processes being started and stopped, errors, and status updates.</li> </ul>"}]}